<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FigiKhan • Servicios y precios</title>
  <link rel="stylesheet" href="estilos.css" />
</head>
<body>
  <!-- Header / Nav -->
  <header class="site-header">
    <nav class="navbar container">
      <a href="#frontend" class="brand">FigiKhan</a>
      <ul class="nav-links">
        <li><a href="#frontend"></a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <!-- Hero -->
    <section class="hero">
      <h1>DATA</h1>
      <p>Miramos hacia el futuro, potenciamos tus ideas y trabajamos en tus proyectos. Selecciona el plan que se ajuste a tus necesidades.</p>
    </section>

    <!-- FRONTEND -->
    <section id="frontend" class="section">
      <h2></h2>
      <p class="section-desc"></p>
      <div class="grid" id="frontend-grid"></div>
    </section>

    <!-- NUEVA SECCIÓN: Calculadora de Inversión -->
    <section id="inversion" class="section">
      <div class="calc card">
        <div class="card-head">
          <span class="badge">Plan a medida</span>
          <h3>¿Cuánto querés invertir en tu proyecto?</h3>
          <p class="desc">
            Ingresá un monto en ARS (mínimo $5.000). Cada <strong>$10.000</strong> sumamos mejoras.
            Hasta <strong>$300.000</strong> es <em>Frontend</em> solamente. Desde <strong>$300.000</strong>, <em>Frontend + Backend</em>.
          </p>
        </div>
        <div class="card-body">
          <div class="calc-inputs">
            <label class="calc-field">
              <span>Monto (ARS)</span>
              <input id="monto-input" type="number" min="5000" max="5000000" step="10000" placeholder="5000" />
            </label>
            <input id="monto-range" class="calc-range" type="range" min="5000" max="5000000" step="10000" />
          </div>

          <div class="calc-summary">
            <div class="chip">
              <span>Presupuesto:</span>
              <strong id="monto-formateado">$ 5.000</strong>
            </div>
            <div class="chip">
              <span>Alcance:</span>
              <strong id="alcance-label">Frontend</strong>
            </div>
          </div>

          <div class="calc-results">
            <h4>Esto podemos desarrollar con tu inversión:</h4>
            <ul id="lista-resultados" class="features"></ul>
          </div>
        </div>
        <div class="card-foot">
          <div class="actions">
            <a id="btn-cotizar" class="btn" target="_blank" rel="noopener">Cotizar por WhatsApp</a>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA AFILIADOS -->
    <section id="afiliados" class="section">
      <div class="cta">
        <h2>¿Querés trabajar con nosotros?</h2>
        <p>Llevante un 10% de la compra del cliente una vez que comience el trabajo.</p>
        <a
          class="btn"
          target="_blank"
          rel="noopener"
          href="https://wa.me/541141999497?text=Hola%20FigiKhan%2C%20quiero%20trabajar%20con%20ustedes%20como%20afiliado%20y%20cobrar%20el%2010%25%20cuando%20inicie%20el%20proyecto."
        >Anotarme ahora</a>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>
      © 2025 Data — Desarrollo web a medida ·
      <a href="https://instagram.com/figi_khan" target="_blank" rel="noopener" aria-label="Abrir Instagram de FigiKhan">
        Instagram
      </a>
      <a href="https://x.com/figikhan" target="_blank" rel="noopener" aria-label="Abrir X de FigiKhan">
        || X
      </a>
    </p>
  </footer>

  <!-- Botón flotante WhatsApp -->
  <a
    class="btn-wpp"
    href="https://wa.me/541141999497?text=Hola%20FigiKhan%2C%20quiero%20hacer%20una%20consulta."
    target="_blank" rel="noopener" aria-label="Consultar por WhatsApp" title="Chatear por WhatsApp">
    <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false">
      <g transform="translate(8,8)">
        <path fill="#ffffff" d="M24 0c13.25 0 24 10.75 24 24S37.25 48 24 48c-4.1 0-7.96-1.03-11.34-2.86L0 48l2.86-11.34C1.03 33.96 0 30.1 0 26 0 12.75 10.75 2 24 2Z"/>
        <path fill="#0f1115" d="M33.8 31.6c-.7 1.9-2.6 3.8-4.5 4.4-1.1.3-2.4.2-3.7-.2-3.2-1-7.1-3.9-9.7-6.5-2.6-2.6-5.5-6.5-6.5-9.7-.5-1.3-.5-2.6-.2-3.7.6-1.9 2.5-3.8 4.4-4.5.5-.2 1-.1 1.4.3l4 4c.4.4.5 1 .2 1.5l-1.8 2.9c-.3.5-.3 1.1 0 1.7.6 1.1 1.8 2.7 3.3 4.2 1.5 1.5 3.2 2.7 4.2 3.3.5.3 1.2.3 1.7 0l2.9-1.8c.5-.3 1.1-.3 1.5.2l4 4c.4.4.5.9.3 1.4Z"/>
      </g>
    </svg>
    <span class="sr-only">WhatsApp</span>
  </a>

  <script>
    /* ==== utilidades precios ==== */
    const ARS = new Intl.NumberFormat('es-AR', { style: 'currency', currency: 'ARS', maximumFractionDigits: 0 });
    const WPP_BASE = 'https://wa.me/541141999497?text=';
    function precioConTipo(base, tipo){ const mult={particular:1.0,negocios:1.5,empresa:2.5}[tipo] ?? 1.0; return Math.round(base*mult); }
    function linkWpp(servicio, tipo, precioFinal){
      const mensaje = `Hola FigiKhan, quiero consultar por: ${servicio} | Tipo: ${tipo.toUpperCase()} | Precio: ${ARS.format(precioFinal)}.`;
      return WPP_BASE + encodeURIComponent(mensaje);
    }

    /* ==== textos frontend ==== */
    const INFO_FRONTEND = {
      'Landing Page Express': [
        '¿Qué es? Una página simple para presentarte y conseguir contactos.',
        'Ideal para: pizzería, peluquería, profe particular, entrenador, jardinería.',
        'Incluye: sección principal, 3 beneficios, testimonios y botón grande a WhatsApp.',
        'Ejemplo: “Reservá tu turno por WhatsApp” con un botón visible.',
        'Tiempo estimado: 2 a 3 días hábiles.',
        'Aclaración: no es tienda online (sin pagos).'
      ],
      'One Page Responsive': [
        '¿Qué es? Todo tu contenido en una sola página que se ve bien en celular.',
        'Ideal para: profesionales, emprendedores, artistas, oficios.',
        'Incluye: Quién soy, Qué ofrezco, Galería/Trabajos, Contacto, redes sociales.',
        'Ejemplo: página personal de un fotógrafo con sus mejores fotos y contacto.',
        'Tiempo estimado: 3 a 5 días hábiles.',
        'Aclaración: sin blog ni múltiples páginas internas.'
      ],
      'Maquetación HTML/CSS': [
        '¿Qué es? Si ya tenés un diseño (Figma/imagen), lo convierto en una web real.',
        'Ideal para: quienes ya tienen el diseño y necesitan verlo funcionando.',
        'Incluye: estructura ordenada, estilos prolijos y que se vea bien en celular.',
        'Ejemplo: tu diseñador te pasó un layout y querés publicarlo.',
        'Entrega: archivos listos para subir al hosting.',
        'Aclaración: no incluye redacción de textos ni búsqueda de fotos.'
      ],
      'UI Animada + Interacciones': [
        '¿Qué es? Le doy vida a tu sitio con efectos suaves y componentes útiles.',
        'Incluye: animaciones al hacer scroll, carrusel de fotos, preguntas frecuentes, modales y formularios con validación.',
        'Ejemplo: estudio de yoga con secciones que aparecen suave y un carrusel de clases.',
        'Beneficio: se ve moderno sin volverse “pesado”.',
        'Aclaración: son efectos sutiles, no animaciones 3D.'
      ],
      'Sitio Multipágina Básico': [
        '¿Qué es? Un sitio clásico con varias secciones en páginas separadas.',
        'Incluye: Inicio, Quiénes somos, Servicios, Preguntas frecuentes, Contacto.',
        'Ejemplo: negocio local con menú arriba, páginas claras y formulario.',
        'Plus: textos listos para Google (títulos y descripciones principales).',
        'Tiempo estimado: 5 a 7 días hábiles.',
        'Aclaración: sin tienda ni blog avanzado.'
      ]
    };

    /* ==== overlay corregido para tarjetas ==== */
    let currentOpenCard=null, overlay=null;
    function ensureOverlay(){
      if(!overlay){
        overlay=document.createElement('div');
        overlay.id='distort-overlay';
        overlay.className='distort-overlay';
        overlay.setAttribute('aria-hidden','true');
        document.body.appendChild(overlay);
        overlay.addEventListener('click',()=>{ if(currentOpenCard&&currentOpenCard._collapse) currentOpenCard._collapse(); });
        window.addEventListener('keydown',(e)=>{ if(e.key==='Escape'&&currentOpenCard&&currentOpenCard._collapse) currentOpenCard._collapse(); });
      }
    }

    function crearLista(features){
      const ul=document.createElement('ul'); ul.className='features';
      features.forEach(f=>{ const li=document.createElement('li'); li.textContent=f; ul.appendChild(li); });
      return ul;
    }

    function crearTarjeta({ nombre, descripcion, precioBase, categoria, infoExtra }){
      const id=nombre.toLowerCase().replace(/\s+/g,'-').replace(/[^\w-]/g,'');
      const tipoId=`tipo-${id}`;
      const card=document.createElement('article');
      card.className='card';
      card.innerHTML=`
        <div class="card-head">
          <span class="badge">${categoria}</span>
          <h3>${nombre}</h3>
          <p class="desc">${descripcion}</p>
        </div>
        <div class="card-body">
          <div class="tipos">
            <label class="tipo"><input type="radio" name="${tipoId}" value="particular" checked /> Particular</label>
            <label class="tipo"><input type="radio" name="${tipoId}" value="negocios" /> Negocios</label>
            <label class="tipo"><input type="radio" name="${tipoId}" value="empresa" /> Empresa</label>
          </div>
          <div class="precio"><span>Precio:</span><strong class="monto" data-precio="${precioBase}">${ARS.format(precioBase)}</strong></div>
          <div class="more" hidden aria-hidden="true"></div>
        </div>
        <div class="card-foot">
          <div class="actions">
            <button class="btn btn-outline btn-info" type="button" aria-expanded="false" aria-controls="more-${id}">Más info</button>
            <a class="btn" target="_blank" rel="noopener">Consultar por WhatsApp</a>
          </div>
        </div>
      `;
      const more=card.querySelector('.more'); more.id=`more-${id}`; more.appendChild(crearLista(infoExtra));
      const radios=card.querySelectorAll(`input[name="${tipoId}"]`);
      const montoEl=card.querySelector('.monto');
      const btnWpp=card.querySelector('.btn:not(.btn-outline)');
      const btnInfo=card.querySelector('.btn-info');
      function sync(){ const tipo=[...radios].find(r=>r.checked).value; const base=Number(montoEl.dataset.precio); const final=precioConTipo(base,tipo); montoEl.textContent=ARS.format(final); btnWpp.href=linkWpp(nombre,tipo,final); }
      radios.forEach(r=>r.addEventListener('change',sync)); sync();
      function expand(){ if(currentOpenCard&&currentOpenCard!==card&&currentOpenCard._collapse){currentOpenCard._collapse(true);} ensureOverlay(); more.hidden=false; more.setAttribute('aria-hidden','false'); btnInfo.setAttribute('aria-expanded','true'); btnInfo.textContent='Menos info'; card.classList.add('card--focused'); overlay.classList.add('is-visible'); overlay.removeAttribute('aria-hidden'); document.body.classList.add('modal-active'); currentOpenCard=card; }
      function collapse(silent=false){ more.hidden=true; more.setAttribute('aria-hidden','true'); btnInfo.setAttribute('aria-expanded','false'); btnInfo.textContent='Más info'; card.classList.remove('card--focused'); if(currentOpenCard===card) currentOpenCard=null; if(!currentOpenCard){ document.body.classList.remove('modal-active'); if(overlay){ overlay.classList.remove('is-visible'); overlay.setAttribute('aria-hidden','true'); } } if(!silent && overlay && overlay.focus) overlay.focus(); }
      card._collapse=collapse;
      btnInfo.addEventListener('click',()=>{ const isHidden=more.hasAttribute('hidden')||more.hidden; isHidden?expand():collapse(); });
      return card;
    }

    const FRONTEND_SERVICIOS=[
      { nombre:'Landing Page Express', precio:15000, desc:'Una página simple que cuenta quién sos y tiene un botón grande a WhatsApp para que te contacten.' },
      { nombre:'One Page Responsive', precio:25000, desc:'Todo en una sola página: quién sos, qué ofrecés, fotos y contacto. Se ve perfecto en celular.' },
      { nombre:'Maquetación HTML/SCSS', precio:27000, desc:'Convierto tu diseño (Figma o imagen) en una web real, ordenada y lista para publicar.' },
      { nombre:'UI Animada + Interacciones', precio:35000, desc:'Hago tu sitio más “vivo”: efectos suaves, carruseles, preguntas frecuentes y formularios completos.' },
      { nombre:'Sitio Multipágina Básico', precio:65000, desc:'Sitio clásico de 5 secciones con menú arriba, páginas claras y formulario de contacto.' }
    ];

    function render(){
      const fg=document.getElementById('frontend-grid');
      FRONTEND_SERVICIOS.forEach(s=>{
        fg.appendChild(crearTarjeta({
          nombre:s.nombre, descripcion:s.desc, precioBase:s.precio,
          categoria:'Frontend', infoExtra:INFO_FRONTEND[s.nombre]||['Detalles del servicio.']
        }));
      });
    }

    /* ==== CALCULADORA DE INVERSIÓN ==== */
    const MIN_INV = 5000;
    const MAX_INV = 5000000;
    const STEP = 10000;

    const FEATURES_FE = [
      'Currículum web (sección única) y archivo descargable',
      'Landing Page Express con CTA a WhatsApp',
      'One Page Responsive (quién soy, servicios, trabajos, contacto)',
      'UI animada suave (aparición al scroll, carrusel simple)',
      'Formulario de contacto con validación',
      'Galería de trabajos / portfolio básico',
      'Sitio Multipágina básico (5 secciones)',
      'Optimización de performance (Lighthouse 80+)',
      'SEO básico: títulos, descripciones y Open Graph',
      'Integración de Analytics y mapa de calor',
      'Copy básico (hasta 500 palabras)',
      'Optimización móvil y accesibilidad AA',
      'Hosting estático + deploy (orientación)',
      'Gestión de dominio .com.ar (orientación)',
      'Soporte 30 días post-lanzamiento',
      'Micro-landing para campañas',
      'Sección de FAQs autoadministrable (estática)',
      'Integración con redes sociales y chat',
      'Componentes UI premium (tabs, acordeón, modales)',
      'Biblioteca de iconos y animaciones sutiles'
    ];

    const FEATURES_BE = [
      'Backend Node/Express base',
      'Base de datos relacional (PostgreSQL)',
      'Autenticación por email/contraseña',
      'API REST (CRUD básico)',
      'Panel de administración básico',
      'Integración de pagos (Mercado Pago)',
      'Notificaciones por email (transaccionales)',
      'CMS headless (contenido dinámico)',
      'Roles y permisos',
      'Optimización de consultas y caché',
      'Testing básico y CI',
      'Dockerización y .env templates',
      'Monitoreo y logs',
      'Escalado y balanceo (plan de arquitectura)',
      'CDN y políticas de seguridad (CORS/Rate limit)',
      'Soporte extendido 90 días',
      'Integraciones externas (maps, mailing, sheets)',
      'Informe técnico y documentación de API',
      'Backups y estrategia de recuperación',
      'Métricas de negocio (dashboards)'
    ];

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function calcularAlcance(monto){
      const m = clamp(monto, MIN_INV, MAX_INV);
      const nivelesFE = Math.min(Math.floor((m - MIN_INV) / STEP) + 1, FEATURES_FE.length);
      const soloFrontend = m < 300000;
      const nivelesBE = soloFrontend ? 0 : Math.min(Math.floor((m - 300000) / STEP) + 1, FEATURES_BE.length);
      const lista = [...FEATURES_FE.slice(0, nivelesFE), ...FEATURES_BE.slice(0, nivelesBE)];
      return { m, soloFrontend, lista };
    }

    function actualizarUIInversion(monto){
      const { m, soloFrontend, lista } = calcularAlcance(monto);
      document.getElementById('monto-input').value = m;
      document.getElementById('monto-range').value = m;
      document.getElementById('monto-formateado').textContent = ARS.format(m);
      document.getElementById('alcance-label').textContent = soloFrontend ? 'Frontend' : 'Frontend + Backend';

      const ul = document.getElementById('lista-resultados');
      ul.innerHTML = '';
      lista.forEach(txt => { const li=document.createElement('li'); li.textContent=txt; ul.appendChild(li); });

      const resumen = `Hola FigiKhan, quiero invertir ${ARS.format(m)}. Alcance: ${soloFrontend?'Frontend':'Frontend + Backend'}. Entregables: ${lista.slice(0,10).join(' • ')}${lista.length>10?' • ...':''}`;
      document.getElementById('btn-cotizar').href = WPP_BASE + encodeURIComponent(resumen);
    }

    function initCalculadora(){
      const input = document.getElementById('monto-input');
      const range = document.getElementById('monto-range');

      // valor inicial razonable
      const start = 5000;
      input.value = start;
      range.value = start;
      actualizarUIInversion(start);

      input.addEventListener('input', ()=>{
        const v = Number(input.value||0);
        actualizarUIInversion(v);
      });
      range.addEventListener('input', ()=>{
        const v = Number(range.value);
        actualizarUIInversion(v);
      });
      input.addEventListener('change', ()=>{
        // Snap al STEP
        let v = clamp(Number(input.value||0), MIN_INV, MAX_INV);
        if(v>MIN_INV){ v = MIN_INV + Math.round((v-MIN_INV)/STEP)*STEP; }
        input.value = v;
        actualizarUIInversion(v);
      });
    }

    /* ==== Nav “cerrar en click” ==== */
    // (el menú hamburguesa se retiró; se mantiene la lógica por si se reinstala)
    // document.addEventListener('click',(e)=>{ ... });

    // Render y arranque
    render();
    initCalculadora();
  </script>

  <!-- Overlay global (una sola vez, al final del body) -->
  <div id="overlay" aria-hidden="true"></div>
</body>
</html>
